<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" th:fragment="admin_layout(content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Jenka Coffee</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Custom Admin CSS -->
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>

<!-- ========== SIDEBAR ========== -->
<aside class="admin-sidebar">
    <div class="sidebar-header">
        <img src="/images/brand/logo.png" alt="Jenka Coffee" onerror="this.style.display='none'">
        <h5>Admin Panel</h5>
    </div>

    <nav class="sidebar-menu">
        <!-- Dashboard Section -->
        <div class="menu-section-title">Dashboard</div>
        <a href="/admin/dashboard" class="nav-link" data-menu="dashboard">
            <i class="fas fa-tachometer-alt"></i>
            <span>Tổng quan</span>
        </a>

        <!-- Quản lý Section -->
        <div class="menu-section-title">Quản lý</div>
        
        <a href="/admin/product/list" class="nav-link" data-menu="product">
            <i class="fas fa-box"></i>
            <span>Sản phẩm</span>
        </a>

        <a href="/admin/category/list" class="nav-link" data-menu="category">
            <i class="fas fa-tags"></i>
            <span>Danh mục</span>
        </a>

        <a href="/admin/order/list" class="nav-link" data-menu="order">
            <i class="fas fa-shopping-cart"></i>
            <span>Đơn hàng</span>
            <span class="badge bg-danger">5</span>
        </a>

        <a href="/admin/account/list" class="nav-link" data-menu="account">
            <i class="fas fa-users"></i>
            <span>Tài khoản</span>
        </a>

        <!-- Báo cáo Section -->
        <div class="menu-section-title">Báo cáo</div>
        
        <a href="/admin/report/revenue" class="nav-link" data-menu="report-revenue">
            <i class="fas fa-chart-line"></i>
            <span>Doanh thu</span>
        </a>

        <a href="/admin/report/customer" class="nav-link" data-menu="report-customer">
            <i class="fas fa-user-chart"></i>
            <span>Khách hàng</span>
        </a>

        <a href="/admin/report/product" class="nav-link" data-menu="report-product">
            <i class="fas fa-box-open"></i>
            <span>Sản phẩm bán chạy</span>
        </a>

        <!-- Cài đặt Section -->
        <div class="menu-section-title">Hệ thống</div>
        
        <a href="/admin/settings" class="nav-link" data-menu="settings">
            <i class="fas fa-cog"></i>
            <span>Cài đặt</span>
        </a>

        <a href="/home" class="nav-link">
            <i class="fas fa-globe"></i>
            <span>Xem website</span>
        </a>

        <a href="/auth/logout" class="nav-link">
            <i class="fas fa-sign-out-alt"></i>
            <span>Đăng xuất</span>
        </a>
    </nav>
</aside>

<!-- ========== NAVBAR ========== -->
<nav class="admin-navbar">
    <div class="navbar-left">
        <i class="fas fa-bars navbar-toggle" onclick="toggleSidebar()"></i>
        
        <div class="navbar-search">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Tìm kiếm...">
        </div>
    </div>

    <div class="navbar-right">
        <i class="fas fa-bell navbar-icon">
            <span class="badge bg-danger">3</span>
        </i>
        
        <i class="fas fa-envelope navbar-icon">
            <span class="badge bg-primary">5</span>
        </i>

        <div class="navbar-user" data-bs-toggle="dropdown">
            <img src="/images/logo/logo.png" alt="Admin" onerror="this.src='https://ui-avatars.com/api/?name=Admin&background=D32F2F&color=fff'">
            <div class="navbar-user-info">
                <div class="navbar-user-name">Admin</div>
                <div class="navbar-user-role">Quản trị viên</div>
            </div>
            <i class="fas fa-chevron-down" style="color: #999; font-size: 0.8rem;"></i>
        </div>
        
        <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="/admin/profile"><i class="fas fa-user me-2"></i> Hồ sơ</a></li>
            <li><a class="dropdown-item" href="/admin/settings"><i class="fas fa-cog me-2"></i> Cài đặt</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="/auth/logout"><i class="fas fa-sign-out-alt me-2"></i> Đăng xuất</a></li>
        </ul>
    </div>
</nav>

<!-- ========== MAIN CONTENT ========== -->
<main class="admin-content">
    <!-- Dynamic Content Injection -->
    <div th:replace="${content}"></div>
</main>

<!-- ========== TOGGLE STATUS MODAL (Dùng chung) ========== -->
<div class="modal fade modal-delete" id="toggleModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-exclamation-triangle"></i>
                    Xác nhận thay đổi
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="delete-icon">
                    <i class="fas fa-eye-slash"></i>
                </div>
                <div class="toggle-message">Bạn có chắc chắn muốn thay đổi trạng thái?</div>
                <div class="delete-warning">Sản phẩm sẽ được ẩn/hiện trên trang khách hàng!</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-cancel" data-bs-dismiss="modal">
                    <i class="fas fa-times me-2"></i>Hủy
                </button>
                <a href="#" id="confirmToggleBtn" class="btn btn-primary btn-delete">
                    <i class="fas fa-check me-2"></i>Xác nhận
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom Admin JS -->
<script th:src="@{/js/admin.js}"></script>

</body>
</html>
